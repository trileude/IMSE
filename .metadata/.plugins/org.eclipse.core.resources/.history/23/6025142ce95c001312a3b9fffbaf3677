package transformation;

import fr.esir.imse.PollSystemStandaloneSetup;
import fr.esir.imse.pollSystem.PollSystem;
import org.eclipse.emf.common.util.EList;
import org.eclipse.emf.common.util.URI;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.resource.Resource;
import org.eclipse.emf.ecore.resource.ResourceSet;
import org.eclipse.emf.ecore.resource.impl.ResourceSetImpl;
import org.eclipse.xtext.xbase.lib.IterableExtensions;
import org.xtext.example.mydsl.MyDslStandaloneSetup;
import org.xtext.example.mydsl.myDsl.ListeQuestions;

@SuppressWarnings("all")
public class Transformation {
  public PollSystem parsingPollSystem(final String nomFichier) {
    ResourceSetImpl _resourceSetImpl = new ResourceSetImpl();
    ResourceSet resourceSet = _resourceSetImpl;
    PollSystemStandaloneSetup.doSetup();
    URI _createURI = URI.createURI(nomFichier);
    Resource resource = resourceSet.getResource(_createURI, true);
    EList<EObject> _contents = resource.getContents();
    EObject _head = IterableExtensions.<EObject>head(_contents);
    PollSystem ps = ((PollSystem) _head);
    return ps;
  }
  
  public ListeQuestions parsingMapping(final String nomFichier) {
    ResourceSetImpl _resourceSetImpl = new ResourceSetImpl();
    ResourceSet resourceSet = _resourceSetImpl;
    MyDslStandaloneSetup.doSetup();
    URI _createURI = URI.createURI(nomFichier);
    Resource resource = resourceSet.getResource(_createURI, true);
    EList<EObject> _contents = resource.getContents();
    EObject _head = IterableExtensions.<EObject>head(_contents);
    ListeQuestions listeQuestions = ((ListeQuestions) _head);
    return listeQuestions;
  }
  
  public void tranform(final String pollSystemFile, final String mappingFile) {
    throw new Error("Unresolved compilation problems:"
      + "\nResource cannot be resolved to a type."
      + "\nIOException cannot be resolved to a type."
      + "\nThe method or field Resource is undefined for the type Transformation"
      + "\nXMIResourceFactoryImpl cannot be resolved."
      + "\nFile cannot be resolved."
      + "\nThe method or field UIFactory is undefined for the type Transformation"
      + "\nThe method or field Collections is undefined for the type Transformation"
      + "\nFactory cannot be resolved"
      + "\nRegistry cannot be resolved"
      + "\nDEFAULT_EXTENSION cannot be resolved"
      + "\ngetAbsolutePath cannot be resolved"
      + "\ngetContents cannot be resolved"
      + "\nadd cannot be resolved"
      + "\ngetContents cannot be resolved"
      + "\nadd cannot be resolved"
      + "\neINSTANCE cannot be resolved"
      + "\ncreateUI cannot be resolved"
      + "\nsave cannot be resolved"
      + "\nEMPTY_MAP cannot be resolved");
  }
}
